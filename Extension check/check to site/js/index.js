(()=>{"use strict";var e,t,n,r={56742:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(8081),i=n.n(r),a=n(23645),l=n.n(a)()(i());l.push([e.id,"html, body {\r\n    margin: 0;\r\n    padding: 0; \r\n}\r\n\r\n#title {\r\n    margin: 2%;\r\n    font-size: 1.5em;\r\n    text-align: center;\r\n}\r\n  \r\n.container {\r\n    min-width: 700px;\r\n    min-height: 600px;\r\n    padding: 10px;\r\n}\r\n\r\n.flex-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.flex-row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n#text-container {\r\n    padding: 2%;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-grow: 1;\r\n    display: flex;\r\n}\r\n\r\n.text-area {\r\n    width: 100%;\r\n    background-color: #202225;\r\n    color: white;\r\n    border-radius: 3px;\r\n    border-color: #ccab01;\r\n    outline-color: #ccab01;\r\n\r\n    resize: none;\r\n    font-family: 'Roboto', sans-serif;\r\n    font-size: 16px;\r\n    padding: 5px;\r\n}\r\n\r\n.text-area:focus {\r\n    border-color: #ffd602; \r\n    outline: 1px solid #ffd602;\r\n}\r\n\r\n#error-msg {\r\n    color: red;\r\n    margin: 5px 0 10px 0;\r\n    padding: 0;\r\n}\r\n\r\n#success-msg {\r\n    color: rgb(34, 177, 34);\r\n    margin: 5px 0 10px 0;\r\n    padding: 0;\r\n}\r\n\r\n#serie-select {\r\n    margin: 0 10px 0 10px;\r\n}\r\n\r\n#film-select {\r\n    margin: 0 10px 0 10px;\r\n}",""]);const o=l},28868:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(8081),i=n.n(r),a=n(23645),l=n.n(a)()(i());l.push([e.id,"#film-select-label {\n    font-weight: 400;\n}\n\n.container-film-select {\n    min-width: 200px;\n}",""]);const o=l},47592:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(8081),i=n.n(r),a=n(23645),l=n.n(a)()(i());l.push([e.id,"#serie-select-label {\n    font-weight: 400;\n}\n\n.container-serie-select {\n    min-width: 200px;\n}",""]);const o=l},80888:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(93379),i=n.n(r),a=n(7795),l=n.n(a),o=n(90569),u=n.n(o),s=n(3565),c=n.n(s),d=n(19216),f=n.n(d),m=n(44589),h=n.n(m),p=n(56742),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=u().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=f(),i()(p.Z,b);const _=p.Z&&p.Z.locals?p.Z.locals:void 0},25493:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(93379),i=n.n(r),a=n(7795),l=n.n(a),o=n(90569),u=n.n(o),s=n(3565),c=n.n(s),d=n(19216),f=n.n(d),m=n(44589),h=n.n(m),p=n(28868),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=u().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=f(),i()(p.Z,b);const _=p.Z&&p.Z.locals?p.Z.locals:void 0},88558:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(93379),i=n.n(r),a=n(7795),l=n.n(a),o=n(90569),u=n.n(o),s=n(3565),c=n.n(s),d=n(19216),f=n.n(d),m=n(44589),h=n.n(m),p=n(47592),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=u().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=f(),i()(p.Z,b);const _=p.Z&&p.Z.locals?p.Z.locals:void 0},96646:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(67294)),u=n(7104),s=l(n(42204)),c=l(n(34251)),d=l(n(28679));n(80888),t.default=()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(""),[l,f]=(0,o.useState)(!1),[m,h]=(0,o.useState)([]),[p,b]=(0,o.useState)(!1),[_,g]=(0,o.useState)(-1),[v,S]=(0,o.useState)(void 0),[y,O]=(0,o.useState)(void 0),[k,E]=(0,o.useState)("VOSTFR");(0,o.useEffect)((()=>{chrome.tabs.query({active:!0,currentWindow:!0},(function(e){const t=e[0];void 0!==t.id&&("https://fankai.fr/checkers"===t.url?chrome.tabs.sendMessage(t.id,{action:"getCheckerInfos"},(function(e){O(JSON.parse(e))})):(x(),r("Ouvrir la page https://fankai.fr/checkers")))}))}),[]);const x=()=>{f(!0),setTimeout((()=>{f(!1)}),3e3)};return o.default.createElement("div",{className:"container flex-column"},o.default.createElement("h1",{id:"title"},"Check TXT Converter"),o.default.createElement("div",{id:"text-container"},o.default.createElement("textarea",{value:e,onChange:e=>{t(e.target.value),b(!1)},className:"text-area",placeholder:"Coller le check ici"})),o.default.createElement("div",null,l?o.default.createElement("p",{id:"error-msg"},n):null,p?o.default.createElement("p",{id:"success-msg"},i):null),o.default.createElement("div",{className:"flex-row"},o.default.createElement("div",{id:"serie-select"},o.default.createElement(c.default,{setSerieCallback:e=>{g(e)}})),o.default.createElement("div",{id:"film-select"},o.default.createElement(d.default,{setFilmCallback:e=>{S(e)},serieId:_,disabled:-1===_})),o.default.createElement(u.FormControlLabel,{value:"bottom",control:o.default.createElement(u.Switch,{color:"primary",onChange:e=>{const t=e.target.checked;E(t?"VF":"VOSTFR")}}),label:k,labelPlacement:"bottom"}),p?o.default.createElement(u.Button,{variant:"contained",onClick:()=>{if(!v||!y||!_)return x(),void r("Selectionnez une série et un film");const e={data:m,idCheck:null,idFilm:v.id,idSerie:_,idUser:y.id.toString(),isDraft:!0,lang:k,nameFilm:v.name,nameSerie:v.serieName,nameUser:y.name,numberFilm:v.number};fetch("https://fankai.fr/api/checks/save",{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8",Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7",Connection:"keep-alive",Host:"fankai.fr",Origin:"https://fankai.fr",Referer:"https://fankai.fr/checkers"},body:JSON.stringify(e)}).then((e=>{a("Check envoyé")})).catch((e=>{x(),r("Erreur lors de l'envoi du check")}))}},"Envoyer"):o.default.createElement(u.Button,{variant:"contained",onClick:()=>{console.log(m);let t=!1;const n=e.split("\n");if(0===n.length)return void f(!0);const i=[];for(let e=0;e<n.length;e++){const a=n[e];if(""===a||"\n"===a)continue;const l=s.default.createCheckInput(a);if(!l){t=!0,x(),r(`Erreur à la ligne ${e+1}`);break}i.push(l)}t||(h(i),b(!0),a("Check valide"))}},"Vérifier")))}},42204:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Audio_Transition=1]="Audio_Transition",e[e.Audio_Son_Parasite=2]="Audio_Son_Parasite",e[e["Vidéo_Transition"]=3]="Vidéo_Transition",e[e["Vidéo_Fondu_Noir"]=4]="Vidéo_Fondu_Noir",e[e["Vidéo_Image_subliminale"]=5]="Vidéo_Image_subliminale",e[e.Sub_Timing=6]="Sub_Timing",e[e.Sub_Maquant=7]="Sub_Maquant",e[e.Sub_Traduction=8]="Sub_Traduction",e[e.Sub_Orthographe=10]="Sub_Orthographe",e[e.Sub_Italique=11]="Sub_Italique",e[e.Autre=12]="Autre"}(n||(n={}));const r={Audio_Transition:["transition audio","transi audio"],Audio_Son_Parasite:["son parasite"],Vidéo_Transition:["transition video","transi video"],Vidéo_Fondu_Noir:["fondu noir","fondu"],Vidéo_Image_subliminale:["image subliminale","image subli"],Sub_Timing:["sub timing","timing","timing sub"],Sub_Maquant:["sub manquant","manque sub"],Sub_Traduction:["trad","traduction","sub traduction"],Sub_Orthographe:["orthographe","ortho","sub orthographe"],Sub_Italique:["italique","ita","sub italique","italique sub"],Autre:["autre"]},i=new Map([["à","a"],["â","a"],["é","e"],["è","e"],["ê","e"],["ù","u"]]);t.default=class{static createCheckInput(e){const t=e.trim().split(/ +/);if(t.length>=2){const e=this.buildTiming(t[0]);let n;if(Number.isNaN(parseInt(t[1].trim()))){if(n=this.checkCategoryS(t[1].trim()),null===n)try{n=this.checkCategoryS(t[1].trim()+" "+t[2].trim()),t.splice(2,1)}catch(e){n=null}}else n=this.checkCategoryN(parseInt(t[1].trim()));let r="";try{r=t.length>3?t.slice(2).join(" "):t[2]}catch(e){}if(r||(r=""),console.log("timing : "+e+" category : "+n+" description : "+r),e&&n)return{timecode:e,idCategory:n,comment:r}}return null}static checkCategoryS(e){const t=e.trim().toLowerCase().replace(/[àâèéêù]/g,(e=>i.get(e)||""));return r.Audio_Transition.includes(t)?n.Audio_Transition:r.Audio_Son_Parasite.includes(t)?n.Audio_Son_Parasite:r.Vidéo_Transition.includes(t)?n.Vidéo_Transition:r.Vidéo_Fondu_Noir.includes(t)?n.Vidéo_Fondu_Noir:r.Vidéo_Image_subliminale.includes(t)?n.Vidéo_Image_subliminale:r.Sub_Timing.includes(t)?n.Sub_Timing:r.Sub_Maquant.includes(t)?n.Sub_Maquant:r.Sub_Traduction.includes(t)?n.Sub_Traduction:r.Sub_Orthographe.includes(t)?n.Sub_Orthographe:r.Sub_Italique.includes(t)?n.Sub_Italique:r.Autre.includes(t)?n.Autre:null}static buildTiming(e){const t=e=>{if(!Number.isNaN(parseInt(e))&&parseInt(e)<60){const t=parseInt(e);return t<10?"0"+t:t.toString()}return null};let n=e.split(":").map((e=>t(e)));n.length<2&&(n=e.split(".").map((e=>t(e))));let r=!0;return n.forEach((e=>{null===e&&(r=!1)})),r?1===n.length?"00:00:"+n[0]:2===n.length?"00:"+n[0]+":"+n[1]:3===n.length?n[0]+":"+n[1]+":"+n[2]:null:null}static checkCategoryN(e){return e>=1&&e<=12&&9!==e?e:null}}},28679:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(67294)),u=l(n(55693)),s=l(n(32392)),c=l(n(61261)),d=l(n(42154)),f=l(n(44025));n(25493),t.default=function(e){const[t,n]=o.useState(""),[r,i]=o.useState({name:"",episodes:[]});return o.useEffect((()=>{fetch(`https://fankai.fr/api/checks/films?idSerie=${e.serieId}`).then((e=>e.json())).then((e=>{i(e)})).catch((e=>console.error(e)))}),[e.serieId]),o.createElement(u.default,{className:"container-film-select"},o.createElement(d.default,{fullWidth:!0},o.createElement(s.default,{disabled:e.disabled,id:"film-select-label"},"Selection du film"),o.createElement(f.default,{labelId:"film-select-label",id:"film-select",value:t,label:"Selection film",onChange:t=>{console.log(t.target.value),n(t.target.value);const i=JSON.parse(t.target.value),a={serieName:r.name,id:i.id,name:i.name,number:i.number};e.setFilmCallback(a)}},r.episodes&&r.episodes.length>0?r.episodes.map((e=>o.createElement(c.default,{key:e.id,value:JSON.stringify(e)},e.name))):-1===e.serieId?o.createElement(c.default,{key:-1,value:0},"Sélectionner un série avant "):o.createElement(c.default,{key:-1,value:0},"Chargement..."))))}},92629:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(20745),a=r(n(67294)),l=r(n(96646)),o=n(26178),u=r(n(53438)),s=r(n(19446));(0,i.createRoot)(document.getElementById("root")).render(a.default.createElement(a.default.StrictMode,null,a.default.createElement(o.ThemeProvider,{theme:s.default},a.default.createElement(u.default,null),a.default.createElement(l.default,null))))},34251:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(67294)),u=l(n(55693)),s=l(n(32392)),c=l(n(61261)),d=l(n(42154)),f=l(n(44025));n(88558),t.default=function(e){const[t,n]=o.useState(""),[r,i]=o.useState([]);return o.useEffect((()=>{fetch("https://fankai.fr/api/checks/series").then((e=>e.json())).then((e=>i(e))).catch((e=>console.error(e)))}),[]),o.createElement(u.default,{className:"container-serie-select"},o.createElement(d.default,{fullWidth:!0},o.createElement(s.default,{id:"serie-select-label"},"Selection de la série"),o.createElement(f.default,{labelId:"serie-select-label",id:"series-select",value:t,label:"Selection de la série",onChange:t=>{console.log(t.target.value),n(t.target.value),e.setSerieCallback(parseInt(t.target.value))}},0!==r.length?r.map(((e,t)=>o.createElement(c.default,{key:t,value:e.id},e.name))):o.createElement(c.default,{key:-1,value:0},"Chargement..."))))}},19446:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=(0,n(26178).createTheme)({palette:{mode:"dark",primary:{main:"#ffd602"},secondary:{main:"#ffd602"}},typography:{fontFamily:"Arial, sans-serif",fontSize:14}});t.default=r}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return r[e].call(n.exports,n,n.exports,a),n.exports}a.m=r,e=[],a.O=(t,n,r,i)=>{if(!n){var l=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],o=!0,u=0;u<n.length;u++)(!1&i||l>=i)&&Object.keys(a.O).every((e=>a.O[e](n[u])))?n.splice(u--,1):(o=!1,i<l&&(l=i));if(o){e.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);a.r(i);var l={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,a.d(i,l),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=826,(()=>{var e={826:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[l,o,u]=n,s=0;if(l.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(u)var c=u(a)}for(t&&t(n);s<l.length;s++)i=l[s],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self.webpackChunkchrome_extension_typescript_starter=self.webpackChunkchrome_extension_typescript_starter||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var l=a.O(void 0,[736],(()=>a(92629)));l=a.O(l)})();